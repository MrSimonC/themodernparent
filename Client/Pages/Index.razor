@page "/"
@inject IJSRuntime jsRuntime

<!-- Wrapper -->
<div id="wrapper" class="fade-in">

    <!-- Intro -->
    <div id="intro">
        <h1>
            The Modern<br />
            Parent
        </h1>
        <p>
            Helping you get a headstart on the new start in your life!
        </p>
        <ul class="actions">
            <li><a href="#header" class="button icon solid solo fa-arrow-down scrolly">Continue</a></li>
        </ul>
    </div>

    <!-- Header -->
    <Header />

    <!-- Nav -->
    <Menu />

    <!-- Main -->
    <div id="main">

        <!-- Featured Post -->
        <FeaturedPost   Date=@DateTime.Parse("2020-10-01")
                        Header="And this is a<br />massive headline2"
                        ImageUrl="images/pic01.jpg"
                        Description="Sac Aenean ornare velit lacus varius enim ullamcorper proin aliquam<br />facilisis ante sed etiam magna interdum congue. Lorem ipsum dolor<br />amet nullam sed etiam veroeros."
                        LinkUrl="#"
                        LinkText="Read full story" />

        <!-- Posts -->
        <section class="posts">
            <Article Date=@DateTime.Parse("2020-10-01")
                     Header="Simon Header"
                     ImageUrl="images/pic02.jpg"
                     Description="My test description"
                     LinkUrl="#"
                     LinkText="Read full story" />
            <article>
                <header>
                    <span class="date">April 24, 2017</span>
                    <h2>
                        <a href="#">
                            Sed magna<br />
                            ipsum faucibus
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic02.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
            <article>
                <header>
                    <span class="date">April 22, 2017</span>
                    <h2>
                        <a href="#">
                            Primis eget<br />
                            imperdiet lorem
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic03.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
            <article>
                <header>
                    <span class="date">April 18, 2017</span>
                    <h2>
                        <a href="#">
                            Ante mattis<br />
                            interdum dolor
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic04.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
            <article>
                <header>
                    <span class="date">April 14, 2017</span>
                    <h2>
                        <a href="#">
                            Tempus sed<br />
                            nulla imperdiet
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic05.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
            <article>
                <header>
                    <span class="date">April 11, 2017</span>
                    <h2>
                        <a href="#">
                            Odio magna<br />
                            sed consectetur
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic06.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
            <article>
                <header>
                    <span class="date">April 7, 2017</span>
                    <h2>
                        <a href="#">
                            Augue lorem<br />
                            primis vestibulum
                        </a>
                    </h2>
                </header>
                <a href="#" class="image fit"><img src="images/pic07.jpg" alt="" /></a>
                <p>Donec eget ex magna. Interdum et malesuada fames ac ante ipsum primis in faucibus. Pellentesque venenatis dolor imperdiet dolor mattis sagittis magna etiam.</p>
                <ul class="actions special">
                    <li><a href="#" class="button">Full Story</a></li>
                </ul>
            </article>
        </section>

        <!-- Footer -->
        <footer>
            <div class="pagination">
                <!--<a href="#" class="previous">Prev</a>-->
                <a href="#" class="page active">1</a>
                <a href="#" class="page">2</a>
                <a href="#" class="page">3</a>
                <span class="extra">&hellip;</span>
                <a href="#" class="page">8</a>
                <a href="#" class="page">9</a>
                <a href="#" class="page">10</a>
                <a href="#" class="next">Next</a>
            </div>
        </footer>

    </div>

    <!-- Footer -->
    <Footer />

    <!-- Copyright -->
    <Copyright />

</div>

@code {
    private string timeNow;

    //private string RenderHtmlContent(string value) => Markdig.Markdown.ToHtml(
    //    markdown: value,
    //    pipeline: new MarkdownPipelineBuilder().UseAdvancedExtensions().Build()
    //);

    private string MarkdownContent = "* hello simon bullet!";

    protected override void OnInitialized()
    {
        timeNow = DateTime.Now.ToString("dd/MM/yy");
    }

    private void UpdateTime()
    {
        timeNow = DateTime.Now.ToString("dd/MM/yy hh:mm:ss");
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await jsRuntime.InvokeVoidAsync("simonFunctions.setBodyClass", "is-preload");
        await jsRuntime.InvokeVoidAsync("simonFunctions.loadScript", "assets/js/main.js");
        await jsRuntime.InvokeVoidAsync("simonFunctions.pageLoadAnimation", null);

        await base.OnAfterRenderAsync(firstRender);
    }

}